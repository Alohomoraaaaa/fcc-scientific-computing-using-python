def arithmetic_arranger(problems, show_answers=False):
    if len(problems) > 5:
        return "Error: Too many problems."

    top_row = []
    bottom_row = []
    dash_row = []
    answer_row = []

    for problem in problems:
        parts = problem.split()

        # Handle cases like "90-100" without spaces
        if len(parts) == 1:
            if "+" in parts[0]:
                first, second = parts[0].split("+")
                operator = "+"
            elif "-" in parts[0]:
                first, second = parts[0].split("-")
                operator = "-"
            else:
                return "Error: Invalid format."
        else:
            first, operator, second = parts

        if operator not in ["+", "-"]:
            return "Error: Operator must be '+' or '-'."

        if not (first.isdigit() and second.isdigit()):
            return "Error: Numbers must only contain digits."

        if len(first) > 4 or len(second) > 4:
            return "Error: Numbers cannot be more than four digits."

        width = max(len(first), len(second)) + 2
        top_row.append(first.rjust(width))
        bottom_row.append(operator + " " + second.rjust(width - 2))
        dash_row.append("-" * width)

        if show_answers:
            result = str(int(first) + int(second)) if operator == "+" else str(int(first) - int(second))
            answer_row.append(result.rjust(width))

    arranged = "    ".join(top_row) + "\n" + "    ".join(bottom_row) + "\n" + "    ".join(dash_row)
    if show_answers:
        arranged += "\n" + "    ".join(answer_row)

    return arranged


# ðŸ”¹ Interactive Input
user_input = input("Enter arithmetic problems separated by commas: ")
problems = [p.strip() for p in user_input.split(",")]
print("\nFormatted:\n")
print(arithmetic_arranger(problems, True))
